<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="styles/login.css">
    <script>
        document.addEventListener("DOMContentLoaded", () => {
             const urlParams = new URLSearchParams(window.location.search); 
             if (urlParams.has("email")) {
                window.location.replace("http://www.project-foolio.com/rewards.html");
             }
         });
        </script>
</head>
<body>
    <div class="login-container">
        <form class="login-form" id="loginForm">
            <div class="login-header">
                <img src="img/logo.png" alt="Logo" class="login-logo">
                <h2>Login</h2>
            </div>
            <input type="email" name="email" id="email" placeholder="Email" required>
            <input type="password" name="password" id="password" placeholder="Password" required>
            <button onclick="loginSubmit()">Sign In</button>
        </form>
        <div class="register-link">
            <p>Don't have an account? <a href="registration.html">Register here</a></p>
        </div>
    </div>
    <script>      
     function loginSubmit() {
      email_addr = document.getElementById("email").value;   
      psswd = document.getElementById("password").value;
      urlStr = "method=account_login&Email="+email_addr+"&Password="+psswd;

      const xhttp = new XMLHttpRequest();
      xhttp.open("POST", "https://www.project-foolio.com/api/login?" + urlStr, false);
      xhttp.setRequestHeader("Access-Control-Allow-Origin", "*");
      xhttp.send();
        }

        
    </script>
</body>
</html>